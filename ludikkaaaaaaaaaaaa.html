<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L√∫dica: Juegos Educativos</title>

</head>
<body>
    <div class="tab">
        <button class="tab-btn active" onclick="openGame('math')">Matem√°ticas</button>
        <button class="tab-btn" onclick="openGame('chemistry')">Qu√≠mica</button>
        <button class="tab-btn" onclick="openGame('physics')">F√≠sica</button>
    </div>

    <!-- JUEGO DE MATEM√ÅTICAS -->
    <div id="math" class="game-container" style="display: block;">
        <h1>Ecuaciones Rel√°mpago ‚è≥</h1>
        <p id="equation">3x + 5 = 20</p>
        <input type="number" id="answer" placeholder="Respuesta (x=?)">
        <button onclick="checkAnswer()">Comprobar</button>
        <p id="result"></p>
        <p id="timer">Tiempo: 30s</p>
    </div>

    <!-- JUEGO DE QU√çMICA -->
    <div id="chemistry" class="game-container" style="display: none;">
        <h1>Balancea y Gana üß™</h1>
        <p id="chem-equation">H‚ÇÇ + O‚ÇÇ ‚Üí H‚ÇÇO</p>
        <div>
            <input type="number" id="coef1" min="1" value="1"> H‚ÇÇ + 
            <input type="number" id="coef2" min="1" value="1"> O‚ÇÇ ‚Üí 
            <input type="number" id="coef3" min="1" value="1"> H‚ÇÇO
        </div>
        <button onclick="checkChemistry()">Comprobar</button>
        <p id="chem-result"></p>
    </div>

    <!-- JUEGO DE F√çSICA -->
    <div id="physics" class="game-container" style="display: none;">
        <h1>Lanzamiento de Proyectiles üöÄ</h1>
        <canvas id="physics-game" width="500" height="300"></canvas>
        <div>
            <label>√Ångulo: <input type="range" id="angle-slider" min="1" max="90" value="45"></label>
            <span id="angle-value">45¬∞</span><br>
            <label>Velocidad: <input type="range" id="velocity-slider" min="10" max="100" value="50"></label>
            <span id="velocity-value">50 m/s</span><br>
            <button onclick="launchProjectile()">Lanzar</button>
        </div>
        <p id="physics-result"></p>
    </div>

    <script>
        // ===== FUNCIONALIDAD DE PESTA√ëAS =====
        function openGame(gameName) {
            const games = document.getElementsByClassName("game-container");
            for (let i = 0; i < games.length; i++) {
                games[i].style.display = "none";
            }
            document.getElementById(gameName).style.display = "block";

            const tabs = document.getElementsByClassName("tab-btn");
            for (let i = 0; i < tabs.length; i++) {
                tabs[i].className = tabs[i].className.replace(" active", "");
            }
            event.currentTarget.className += " active";
        }

        // ===== JUEGO DE MATEM√ÅTICAS =====
        let timeLeft = 30;
        let score = 0;
        let timerInterval;

        function generateEquation() {
            const a = Math.floor(Math.random() * 5) + 1; // Coeficiente entre 1 y 5
            const b = Math.floor(Math.random() * 10) + 1; // T√©rmino independiente
            const c = a * (Math.floor(Math.random() * 5) + 1) + b; // Soluci√≥n entera
            document.getElementById("equation").textContent = `${a}x + ${b} = ${c}`;
            return (c - b) / a; // Soluci√≥n correcta (x)
        }

        let correctAnswer = generateEquation();

        function startTimer() {
            clearInterval(timerInterval);
            timeLeft = 30;
            document.getElementById("timer").textContent = `Tiempo: ${timeLeft}s`;
            timerInterval = setInterval(() => {
                timeLeft--;
                document.getElementById("timer").textContent = `Tiempo: ${timeLeft}s`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    document.getElementById("result").textContent = "¬°Se acab√≥ el tiempo!";
                }
            }, 1000);
        }

        function checkAnswer() {
            const userAnswer = parseFloat(document.getElementById("answer").value);
            if (userAnswer === correctAnswer) {
                document.getElementById("result").textContent = "‚úÖ ¬°Correcto! +1 Punto";
                score++;
                timeLeft += 5; // Bonus de tiempo
                correctAnswer = generateEquation();
                document.getElementById("answer").value = "";
            } else {
                document.getElementById("result").textContent = "‚ùå Incorrecto, intenta de nuevo.";
            }
        }

        startTimer();

        // ===== JUEGO DE QU√çMICA =====
        function checkChemistry() {
            const coef1 = parseInt(document.getElementById("coef1").value);
            const coef2 = parseInt(document.getElementById("coef2").value);
            const coef3 = parseInt(document.getElementById("coef3").value);

            // Verifica balanceo de H y O
            const hBalanced = (coef1 * 2 === coef3 * 2); // H: 2 en reactivos y productos
            const oBalanced = (coef2 * 2 === coef3 * 1);  // O: 2 en reactivos, 1 en productos

            if (hBalanced && oBalanced) {
                document.getElementById("chem-result").textContent = "‚úÖ ¬°Balance correcto!";
                // Genera nueva ecuaci√≥n
                document.getElementById("chem-equation").textContent = 
                    `H‚ÇÇ + O‚ÇÇ ‚Üí H‚ÇÇO`; // Puedes a√±adir m√°s ecuaciones aleatorias
            } else {
                document.getElementById("chem-result").textContent = "‚ùå Sigue intentando...";
            }
        }

        // ===== JUEGO DE F√çSICA =====
        const canvas = document.getElementById("physics-game");
        const ctx = canvas.getContext("2d");
        let angle = 45;
        let velocity = 50;

        // Dibuja el escenario
        function drawScene() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // Dibuja el ca√±√≥n (proyectil)
            ctx.fillStyle = "red";
            ctx.beginPath();
            ctx.arc(50, 250, 10, 0, Math.PI * 2);
            ctx.fill();
            // Dibuja el blanco
            ctx.fillStyle = "blue";
            ctx.fillRect(400, 240, 20, 20);
        }

        // Actualiza los controles
        document.getElementById("angle-slider").addEventListener("input", (e) => {
            angle = e.target.value;
            document.getElementById("angle-value").textContent = `${angle}¬∞`;
            drawScene();
        });

        document.getElementById("velocity-slider").addEventListener("input", (e) => {
            velocity = e.target.value;
            document.getElementById("velocity-value").textContent = `${velocity} m/s`;
        });

        // L√≥gica de lanzamiento (simplificada)
        function launchProjectile() {
            drawScene();
            ctx.fillStyle = "black";
            ctx.font = "16px Arial";
            // F√≥rmula simplificada de alcance (sin gravedad real)
            const distance = (velocity * velocity * Math.sin(2 * angle * Math.PI / 180)) / 9.8;
            const targetDistance = 350; // Distancia al blanco en p√≠xeles
            const margin = 20;

            if (Math.abs(distance - targetDistance) < margin) {
                document.getElementById("physics-result").textContent = "‚úÖ ¬°Blanco alcanzado!";
            } else {
                document.getElementById("physics-result").textContent = "‚ùå Fallaste. Ajusta √°ngulo/velocidad.";
            }
        }

        drawScene();
    </script>
</body>
</html>